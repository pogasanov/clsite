{% extends 'base.html' %}
{% load static %}

{% block body-class %}profile-page{% endblock %}

{% block content %}
    <div class="page-header header-filter" data-parallax="true"></div>
    <div class="main main-raised">
        <div class="profile-content">
            <div class="container pb-3">
                <div class="row">
                    <div class="col-md-8 ml-auto mr-auto">
                        <div class="profile">
                            <div class="avatar">
                                <form action="" method="POST" enctype="multipart/form-data" class="photo-form">
                                    {% csrf_token %}
                                    <input type="file" name="photo-input" class="photo-input">
                                </form>
                                <img src="{{ selected_user.photo_url_or_default }}" alt="Circle Image"
                                     class="img-raised rounded-circle img-fluid photo-view">
                            </div>
                            {% if not form %}
                                <div class="name">
                                    <h3 class="title">{{ selected_user.first_name }} {{ selected_user.last_name }}</h3>

                                    {% if selected_user.headline %}
                                        <h5>{{ selected_user.headline }}</h5>
                                    {% endif %}

                                    {% if selected_user.summary %}
                                    <h6>{{ selected_user.summary }}</h6>
                                    {% endif %}

                                    {% if selected_user.website %}
                                        <a href="{{ selected_user.website }}"
                                           class="btn btn-just-icon btn-link">
                                            <i class="fas fa-globe"></i>
                                        </a>
                                    {% endif %}

                                    {% if selected_user.twitter %}
                                        <a href="https://twitter.com/{{ selected_user.twitter }}"
                                           class="btn btn-just-icon btn-link">
                                            <i class="fab fa-twitter"></i>
                                        </a>
                                    {% endif %}

                                    {% if selected_user.linkedin %}
                                        <a href="https://www.linkedin.com/in/{{ selected_user.linkedin }}"
                                           class="btn btn-just-icon btn-link">
                                            <i class="fab fa-linkedin"></i>
                                        </a>
                                    {% endif %}

                                    {% if selected_user.facebook %}
                                        <a href="https://www.facebook.com/{{ selected_user.facebook }}"
                                           class="btn btn-just-icon btn-link">
                                            <i class="fab fa-facebook"></i>
                                        </a>
                                    {% endif %}
                                </div>
                                {% if user != selected_user %}
                                    <a href="{% url 'create_transaction' selected_user.handle %}" class="btn col-md-6">Add Correspondence with {{ selected_user.first_name }} {{ selected_user.last_name }}</a>
                                {% endif %}
                                <div class="description text-center">
                                    <p>{{ selected_user.bio|safe }}</p>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Contact</h3>
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Phone:</h5>
                                        {{ selected_user.phone }}
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Email:</h5>
                                        {{ selected_user.email }}
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Handle:</h5>
                                        {{ selected_user.handle }}
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Address</h3>
                                    </div>
                                    <div class="col-md-4 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">State:</h5>
                                        {{ selected_user.address.state }}
                                    </div>
                                    <div class="col-md-4 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">City:</h5>
                                        {{ selected_user.address.city }}
                                    </div>

                                    <div class="col-md-4 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Zipcode:</h5>
                                        {{ selected_user.address.zipcode }}
                                    </div>

                                    <div class="col-md-8 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Street:</h5>
                                        {{ selected_user.address.street }}
                                    </div>
                                    <div class="col-md-4 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Building:</h5>
                                        {{ selected_user.address.building }}
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Professional details</h3>
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Experience:</h5>
                                        {{ selected_user.experience }} years
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Law Type Tags:</h5>
                                        {{ selected_user.law_type_tags|join:", " }}
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Subective Tags:</h5>
                                        {{ selected_user.subjective_tags|join:", "|capfirst }}
                                    </div>

                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Current job:</h5>
                                        {{ selected_user.current_job }}
                                    </div>

                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Size of clients:</h5>
                                        {{ selected_user.get_size_of_clients_display }}
                                    </div>

                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Clients:</h5>
                                        {{ selected_user.clients|join:", " }}
                                    </div>

                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">License status:</h5>
                                        {{ selected_user.get_license_status_display }}
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Jurisdictions:</h5>
                                        {% for jurisdiction in selected_user.jurisdiction_set.all %}
                                            <div class="row">
                                                {{ jurisdiction.country }} - {{ jurisdiction.state }} - {{ jurisdiction.city }}
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">Languages:</h5>
                                            {% for language in selected_user.language_set.all %}
                                                <div class="row" style="display: block;">
                                                {{ language.get_name_display }} - {{ language.get_proficiency_level_display }}
                                                </div>
                                            {% endfor %}
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Law school</h3>
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">School:</h5>
                                        {{ selected_user.lawschool.school }}
                                    </div>
                                    <div class="col-md-6 field">
                                        <h5 class="mt-0 mb-1" style="font-weight: 700;">State:</h5>
                                        {{ selected_user.lawschool.get_state_display }}
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Educations</h3>
                                    </div>
                                    {% for education in selected_user.education_set.all %}
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">School:</h5>
                                            {{ education.school }}
                                        </div>
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Degree:</h5>
                                            {{ education.degree }}
                                        </div>
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Graduation date:</h5>
                                            {{ education.graduation_date }}
                                        </div>
                                    {% endfor %}
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Admissions</h3>
                                    </div>
                                    {% for admission in selected_user.admissions_set.all %}
                                        <div class="col-md-6 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">State:</h5>
                                            {{ admission.get_state_display }}
                                        </div>

                                        <div class="col-md-6 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Year:</h5>
                                            {{ admission.year }}
                                        </div>
                                    {% endfor %}
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Work experience</h3>
                                    </div>
                                    {% for workexperience in selected_user.workexperience_set.all %}
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Company name:</h5>
                                            {{ workexperience.company_name }}
                                        </div>

                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Position:</h5>
                                            {{ workexperience.position }}
                                        </div>

                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Duration:</h5>
                                            from {{ workexperience.duration.lower }} till {{ workexperience.duration.upper }}
                                        </div>

                                        <div class="col-md-12 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Responsibility:</h5>
                                            {{ workexperience.responsibility }}
                                        </div>
                                    {% endfor %}
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Professional Associations/Organizations</h3>
                                    </div>
                                    {% for organization in selected_user.organization_set.all %}
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Name:</h5>
                                            {{ organization.name }}
                                        </div>

                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Position:</h5>
                                            {{ organization.position }}
                                        </div>
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Duration:</h5>
                                            from {{ organization.duration.lower }} till {{ organization.duration.upper }}
                                        </div>
                                    {% endfor %}
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h3>Awards</h3>
                                    </div>
                                    {% for award in selected_user.award_set.all %}
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Title:</h5>
                                            {{ award.title }}
                                        </div>
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Presented by:</h5>
                                            {{ award.presented_by }}
                                        </div>
                                        <div class="col-md-4 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Year:</h5>
                                            {{ award.year }}
                                        </div>
                                        <div class="col-md-12 field">
                                            <h5 class="mt-0 mb-1" style="font-weight: 700;">Description:</h5>
                                            {{ award.description }}
                                        </div>
                                    {% endfor %}
                                </div>

                            {% else %}
                                <form class="form-block profile-form" action="" method="post"
                                      enctype="multipart/form-data">
                                    {% csrf_token %}

                                    <div class="row">
                                        <div class="col-md-6 field">
                                            {{ form.first_name.label_tag }}
                                            {{ form.first_name }}
                                            {% for error in form.first_name.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.last_name.label_tag }}
                                            {{ form.last_name }}
                                            {% for error in form.last_name.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.headline.label_tag }}
                                            {{ form.headline }}
                                            {% for error in form.headline.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-12 field">
                                            {{ form.summary.label_tag }}
                                            {{ form.summary }}
                                            {% for error in form.summary.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-12 field">
                                            {{ form.bio.label_tag }}
                                            {{ form.bio }}
                                            {% for error in form.bio.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Contact</h3>
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.phone.label_tag }}
                                            {{ form.phone }}
                                            {% for error in form.phone.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.email.label_tag }}
                                            {{ form.email }}
                                            {% for error in form.email.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.handle.label_tag }}
                                            {{ form.handle }}
                                            {% for error in form.handle.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.website.label_tag }}
                                            {{ form.website }}
                                            {% for error in form.website.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.twitter.label_tag }}
                                            {{ form.twitter }}
                                            {% for error in form.twitter.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.linkedin.label_tag }}
                                            {{ form.linkedin }}
                                            {% for error in form.linkedin.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.facebook.label_tag }}
                                            {{ form.facebook }}
                                            {% for error in form.facebook.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.preferred_communication_method.label_tag }}
                                            {{ form.preferred_communication_method }}
                                            {% for error in form.preferred_communication_method.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Jurisdictions</h3>
                                        </div>
                                        {{ jurisdiction.management_form }}
                                        <div class="col-md-12" id="jurisdiction-formset">
                                            {% for jurisdiction in jurisdiction.forms %}
                                            <div class="row">
                                                {% for hidden in jurisdiction.hidden_fields %}
                                                    {{ hidden }}
                                                {% endfor %}
                                                <div class="col-md-3 field">
                                                    {{ jurisdiction.country.label_tag }}
                                                    {{ jurisdiction.country }}
                                                    {% for error in jurisdiction.country.errors %}
                                                        <span style="color: red;">[{{ error }}]</span>
                                                    {% endfor %}
                                                </div>
                                                <div class="col-md-3 field state-div">
                                                    {{ jurisdiction.state.label_tag }}
                                                    {{ jurisdiction.state }}
                                                    {% for error in jurisdiction.state.errors %}
                                                        <span style="color: red;">[{{ error }}]</span>
                                                    {% endfor %}
                                                </div>
                                                <div class="col-md-3 field">
                                                    {{ jurisdiction.city.label_tag }}
                                                    {{ jurisdiction.city }}
                                                    {% for error in jurisdiction.city.errors %}
                                                        <span style="color: red;">[{{ error }}]</span>
                                                    {% endfor %}
                                                </div>
                                                <div class="col-md-3 field">
                                                    {{ jurisdiction.DELETE.label_tag }}
                                                    {{ jurisdiction.DELETE }}
                                                </div>
                                            </div>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-12 field">
                                            <a href="#" id="jurisdiction-clone">
                                                <h3>+</h3>
                                            </a>
                                        </div>
                                        <!--empty form to clone dynamically-->
                                        <div id="empty_form" style="display:none">
                                            <div class='row'>
                                                <div class="col-md-3 field">
                                                    {{ jurisdiction.empty_form.country.label_tag }}
                                                    {{ jurisdiction.empty_form.country }}
                                                    {% for error in jurisdiction.empty_form.country.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                    {% endfor %}
                                                </div>
                                                <div class="col-md-3 field state-div">
                                                    {{ jurisdiction.empty_form.state.label_tag }}
                                                    {{ jurisdiction.empty_form.state }}
                                                    {% for error in jurisdiction.empty_form.state.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                    {% endfor %}
                                                </div>
                                                <div class="col-md-3 field">
                                                    {{ jurisdiction.empty_form.city.label_tag }}
                                                    {{ jurisdiction.empty_form.city }}
                                                    {% for error in jurisdiction.empty_form.city.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                    {% endfor %}
                                                </div>
                                                <div class="col-md-3 field">
                                                    {% if jurisdiction.empty_form.can_delete %}
                                                    {{ jurisdiction.empty_form.DELETE.label_tag }}
                                                    {{ jurisdiction.empty_form.DELETE }}
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Address</h3>
                                        </div>
                                        <div class="col-md-4 field">
                                            {{ address.country.label_tag }}
                                            {{ address.country }}
                                            {% for error in address.country.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-4 field state-div">
                                            {{ address.state.label_tag }}
                                            {{ address.state }}
                                            {% for error in address.state.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-4 field">
                                            {{ address.city.label_tag }}
                                            {{ address.city }}
                                            {% for error in address.city.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>

                                        <div class="col-md-4 field">
                                            {{ address.zipcode.label_tag }}
                                            {{ address.zipcode }}
                                            {% for error in address.zipcode.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>

                                        <div class="col-md-4 field">
                                            {{ address.street.label_tag }}
                                            {{ address.street }}
                                            {% for error in address.street.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-4 field">
                                            {{ address.building.label_tag }}
                                            {{ address.building }}
                                            {% for error in address.building.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Professional details</h3>
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.experience.label_tag }}
                                            {{ form.experience }}
                                            {% for error in form.experience.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.law_type_tags.label_tag }}
                                            {{ form.law_type_tags }}
                                            {% for error in form.law_type_tags.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ form.subjective_tags.label_tag | capfirst }}
                                            {{ form.subjective_tags | capfirst }}
                                            {% for error in form.subjective_tags.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>

                                        <div class="col-md-6 field">
                                            {{ form.current_job.label_tag }}
                                            {{ form.current_job }}
                                            {% for error in form.current_job.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>

                                        <div class="col-md-6 field">
                                            {{ form.size_of_clients.label_tag }}
                                            {{ form.size_of_clients }}
                                            {% for error in form.size_of_clients.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>


                                        <div class="col-md-6 field">
                                            {{ form.clients.label_tag }}
                                            {{ form.clients }}
                                            {% for error in form.clients.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>

                                        <div class="col-md-6 field">
                                            {{ form.license_status.label_tag }}
                                            {{ form.license_status }}
                                            {% for error in form.license_status.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>

                                        <div class="col-md-12">
                                            <h3>Languages</h3>
                                        </div>
                                        {{ languages.management_form }}
                                        <div class="col-md-12" id="language-formset">
                                            {% for language in languages.forms %}
                                                <div class="row">
                                                    {% for hidden in language.hidden_fields %}
                                                        {{ hidden }}
                                                    {% endfor %}
                                                    <div class="col-md-4 field">
                                                        {% if forloop.first %}
                                                        {{ language.name.label_tag }}
                                                        {% endif %}
                                                        {{ language.name }}
                                                        {% for error in language.name.errors %}
                                                            <span style="color: red;">[{{ error }}]</span>
                                                        {% endfor %}
                                                    </div>
                                                    <div class="col-md-4 field">
                                                        {% if forloop.first %}
                                                        {{ language.proficiency_level.label_tag }}
                                                        {% endif %}
                                                        {{ language.proficiency_level }}
                                                        {% for error in language.proficiency_level.errors %}
                                                            <span style="color: red;">[{{ error }}]</span>
                                                        {% endfor %}
                                                    </div>
                                                    <div class="col-md-4 field">
                                                        {% if languages.can_delete %}
                                                            {% if forloop.first %}
                                                            {{ language.DELETE.label_tag }}</br>
                                                            {% endif %}
                                                            {{ language.DELETE }}
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-12 field">
                                            <a href="#" id="language-clone">
                                                <h3>+</h3>
                                            </a>
                                        </div>
                                        <!-- empty language form to clone dynamically -->
                                        <div id="language_empty_form" style="display:none">
                                            <div class='row'>
                                                <div class="col-md-4 field">
                                                    {{ languages.empty_form.name.label_tag }}
                                                    {{ languages.empty_form.name }}
                                                    {% for error in languages.empty_form.name.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                    {% endfor %}
                                                </div>
                                                <div class="col-md-4 field">
                                                    {{ languages.empty_form.proficiency_level.label_tag }}
                                                    {{ languages.empty_form.proficiency_level }}
                                                    {% for error in languages.empty_form.proficiency_level.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                    {% endfor %}
                                                </div>
                                                <div class="col-md-4 field">
                                                    {% if languages.empty_form.can_delete %}
                                                        {{ languages.empty_form.DELETE.label_tag }}
                                                        {{ languages.empty_form.DELETE }}
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Law school</h3>
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ lawschool.school.label_tag }}
                                            {{ lawschool.school }}
                                            {% for error in lawschool.school.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ lawschool.country.label_tag }}
                                            {{ lawschool.country }}
                                            {% for error in lawschool.country.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field state-div">
                                            {{ lawschool.state.label_tag }}
                                            {{ lawschool.state }}
                                            {% for error in lawschool.state.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                        <div class="col-md-6 field">
                                            {{ lawschool.city.label_tag }}
                                            {{ lawschool.city }}
                                            {% for error in lawschool.city.errors %}
                                                <span style="color: red;">[{{ error }}]</span>
                                            {% endfor %}
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Educations</h3>
                                        </div>
                                        {{ educations.management_form }}
                                        {% for education in educations.forms %}
                                            {% for hidden in education.hidden_fields %}
                                                {{ hidden }}
                                            {% endfor %}
                                            <div class="col-md-3 field">
                                                {{ education.school.label_tag }}
                                                {{ education.school }}
                                                {% for error in education.school.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>
                                            <div class="col-md-3 field">
                                                {{ education.degree.label_tag }}
                                                {{ education.degree }}
                                                {% for error in education.degree.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>
                                            <div class="col-md-3 field">
                                                {{ education.graduation_date.label_tag }}
                                                {{ education.graduation_date }}
                                                {% for error in education.graduation_date.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-3 field">
                                                {% if educations.can_delete %}
                                                    {{ education.DELETE.label_tag }}
                                                    {{ education.DELETE }}
                                                {% endif %}
                                            </div>
                                        {% endfor %}
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Admissions</h3>
                                        </div>
                                        {{ admissions.management_form }}
                                        {% for admission in admissions.forms %}
                                        <div class="row">
                                            {% for hidden in admission.hidden_fields %}
                                                {{ hidden }}
                                            {% endfor %}
                                            <div class="col-md-4 field">
                                                {{ admission.country.label_tag }}
                                                {{ admission.country }}
                                                {% for error in admission.country.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-4 field state-div">
                                                {{ admission.state.label_tag }}
                                                {{ admission.state }}
                                                {% for error in admission.state.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-4 field">
                                                {{ admission.city.label_tag }}
                                                {{ admission.city }}
                                                {% for error in admission.city.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-4 field">
                                                {{ admission.year.label_tag }}
                                                {{ admission.year }}
                                                {% for error in admission.year.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-4 field">
                                                {% if admissions.can_delete %}
                                                    {{ admission.DELETE.label_tag }}
                                                    {{ admission.DELETE }}
                                                {% endif %}
                                            </div>
                                        </div>
                                        {% endfor %}
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Work experience</h3>
                                        </div>
                                        {{ workexperiences.management_form }}
                                        {% for workexperience in workexperiences.forms %}
                                            {% for hidden in workexperience.hidden_fields %}
                                                {{ hidden }}
                                            {% endfor %}
                                            <div class="col-md-4 field">
                                                {{ workexperience.company_name.label_tag }}
                                                {{ workexperience.company_name }}
                                                {% for error in workexperience.company_name.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-4 field">
                                                {{ workexperience.position.label_tag }}
                                                {{ workexperience.position }}
                                                {% for error in workexperience.position.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-4 field">
                                                {{ workexperience.duration.label_tag }}
                                                {{ workexperience.duration }}
                                                {% for error in workexperience.duration.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-8 field">
                                                {{ workexperience.responsibility.label_tag }}
                                                {{ workexperience.responsibility }}
                                                {% for error in workexperience.responsibility.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-4 field">
                                                {% if workexperiences.can_delete %}
                                                    {{ workexperience.DELETE.label_tag }}
                                                    {{ workexperience.DELETE }}
                                                {% endif %}
                                            </div>
                                        {% endfor %}
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Professional Associations/Organizations</h3>
                                        </div>
                                        {{ organizations.management_form }}
                                        {% for organization in organizations.forms %}
                                            {% for hidden in organization.hidden_fields %}
                                                {{ hidden }}
                                            {% endfor %}
                                            <div class="col-md-3 field">
                                                {{ organization.name.label_tag }}
                                                {{ organization.name }}
                                                {% for error in organization.name.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-3 field">
                                                {{ organization.position.label_tag }}
                                                {{ organization.position }}
                                                {% for error in organization.position.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>
                                            <div class="col-md-3 field">
                                                {{ organization.duration.label_tag }}
                                                {{ organization.duration }}
                                                {% for error in organization.duration.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-3 field">
                                                {% if organizations.can_delete %}
                                                    {{ organization.DELETE.label_tag }}
                                                    {{ organization.DELETE }}
                                                {% endif %}
                                            </div>
                                        {% endfor %}
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <h3>Awards</h3>
                                        </div>
                                        {{ awards.management_form }}
                                        {% for award in awards.forms %}
                                            {% for hidden in award.hidden_fields %}
                                                {{ hidden }}
                                            {% endfor %}
                                            <div class="col-md-4 field">
                                                {{ award.title.label_tag }}
                                                {{ award.title }}
                                                {% for error in award.title.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>
                                            <div class="col-md-4 field">
                                                {{ award.presented_by.label_tag }}
                                                {{ award.presented_by }}
                                                {% for error in award.presented_by.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>
                                            <div class="col-md-4 field">
                                                {{ award.year.label_tag }}
                                                {{ award.year }}
                                                {% for error in award.year.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>
                                            <div class="col-md-8 field">
                                                {{ award.description.label_tag }}
                                                {{ award.description }}
                                                {% for error in award.description.errors %}
                                                    <span style="color: red;">[{{ error }}]</span>
                                                {% endfor %}
                                            </div>

                                            <div class="col-md-4 field">
                                                {% if awards.can_delete %}
                                                    {{ award.DELETE.label_tag }}
                                                    {{ award.DELETE }}
                                                {% endif %}
                                            </div>
                                        {% endfor %}
                                    </div>

                                    <div class="alert alert-dismissible" id="response-message"></div>
                                    <div class="row alert alert-dismissible" role="alert" id="response-details"></div>
                                    <input class="btn btn-primary" type="submit" title="Submit">
                                </form>
                            {% endif %}
                            <!--END Edit Field for own profile-->
                        </div>
                    </div>
                {% if relationships %}
                    <div class="col-md-2 mt-4 ml-auto mr-auto user-relationships">
                        <h3>Correspondence</h3>
                        {% for relationship in relationships %}
                            <div class="row relationship-card card p-2">
                                <div class="text-center">
                                    <a href="{{ relationship.url }}">
                                    <img src="{{ relationship.photo }}" alt="Circle Image"
                                         class="img-raised rounded-circle img-fluid correspondence-photo mb-1">
                                    <p class="card-title">{{ relationship.name }}</p>
                                    </a>
                                    Verified amount:
                                    <p> <span class="text-success" title="Verified">{{ relationship.verified_amount }}</span> vs <span class="text-danger" title="Unverified">{{ relationship.unverified_amount }}</span></p>

                                    Total Amount:
                                    <p> <span class="text-success" title="Given">{{ relationship.amount_given }}</span> vs <span class="text-danger" title="Received">{{ relationship.amount_received }}</span></p>
                                    {% if relationship.jurisdiction %}
                                        <h6>Jurisdiction</h6>
                                        {% for jurisdiction in relationship.jurisdiction %}
                                            <span class="badge badge-primary">{{ jurisdiction }}</span>
                                        {% endfor %}
                                    {% endif %}

                                    {% if relationship.law_type_tags %}
                                        <h6>Tags</h6>
                                        {% for law_type_tag in relationship.law_type_tags %}
                                            <span class="badge badge-info">{{ law_type_tag }}</span>
                                        {% endfor %}
                                    {% endif %}

                                </div>

                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
